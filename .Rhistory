peaks
if (!require("MALDIquant")) install.packages("MALDIquant")
if (!require("MALDIquantForeign")) install.packages("MALDIquantForeign")
library("MALDIquant")
library("MALDIquantForeign")
myimportTxt <- function (datadir,filename){
importCsv(paste(datadir,filename,sep=""),centroided=TRUE)
}
datadir <- "f:/2016_MTB/Data/20180625_non-CRE_58_CRE_58_Intensity/"
peaks <-c(
myimportTxt(datadir,"B1050906-127.csv"),
myimportTxt(datadir,"B1051019-050.csv"),
myimportTxt(datadir,"B1050119-108.csv"),
myimportTxt(datadir,"B1050125-102.csv"),
myimportTxt(datadir,"B1050219-053.csv"),
myimportTxt(datadir,"B1050422-104.csv"),
myimportTxt(datadir,"B1050429-048.csv"),
myimportTxt(datadir,"B1050704-185.csv"),
myimportTxt(datadir,"B1050714-125.csv"),
myimportTxt(datadir,"B1060117-004.csv"),
myimportTxt(datadir,"B1060125-048.csv"),
myimportTxt(datadir,"B1060125-147.csv"),
myimportTxt(datadir,"B1060126-056.csv"),
myimportTxt(datadir,"B1060216-038.csv"),
myimportTxt(datadir,"B1060223-006.csv"),
myimportTxt(datadir,"B1060310-011.csv"),
myimportTxt(datadir,"B1060312-007.csv"),
myimportTxt(datadir,"B1060317-011.csv"),
myimportTxt(datadir,"B1060320-165.csv"),
myimportTxt(datadir,"B1060326-068.csv"),
myimportTxt(datadir,"B1060402-034.csv"),
myimportTxt(datadir,"B1060404-034.csv"),
myimportTxt(datadir,"B1060406-071.csv"),
myimportTxt(datadir,"B1060409-035.csv"),
myimportTxt(datadir,"B1060413-035.csv"),
myimportTxt(datadir,"B1060421-102.csv"),
myimportTxt(datadir,"B1060422-055.csv"),
myimportTxt(datadir,"B1060510-109.csv"),
myimportTxt(datadir,"B1060512-043.csv"),
myimportTxt(datadir,"B1060518-059.csv"),
myimportTxt(datadir,"B1060518-100.csv"),
myimportTxt(datadir,"B1060911-204.csv"),
myimportTxt(datadir,"B1060919-032.csv"),
myimportTxt(datadir,"B1060923-134.csv"),
myimportTxt(datadir,"B1061012-028.csv"),
myimportTxt(datadir,"B1061019-025.csv"),
myimportTxt(datadir,"B1061021-093.csv"),
myimportTxt(datadir,"B1061117-047.csv"),
myimportTxt(datadir,"M1050120-162.csv"),
myimportTxt(datadir,"M1050401-169.csv"),
myimportTxt(datadir,"M1050912-089.csv"),
myimportTxt(datadir,"B1050802-057.csv"),
myimportTxt(datadir,"B1061114-008.csv"),
myimportTxt(datadir,"B1050414-116.csv"),
myimportTxt(datadir,"B1060223-082.csv"),
myimportTxt(datadir,"B1060429-096.csv"),
myimportTxt(datadir,"B1060508-118.csv"),
myimportTxt(datadir,"B1060910-039.csv"),
myimportTxt(datadir,"B1061015-054.csv"),
myimportTxt(datadir,"B1061025-014.csv"),
myimportTxt(datadir,"B1061025-055.csv"),
myimportTxt(datadir,"M1050314-245.csv"),
myimportTxt(datadir,"M1050501-018.csv"),
myimportTxt(datadir,"M1051230-039.csv"),
myimportTxt(datadir,"M1060723-056.csv"),
myimportTxt(datadir,"B1060217-087.csv"),
myimportTxt(datadir,"M1050926-240.csv"),
myimportTxt(datadir,"M1060123-258.csv"),
myimportTxt(datadir,"M1060226-032.csv"),
myimportTxt(datadir,"M1060314-010.csv"),
myimportTxt(datadir,"M1060522-008.csv"),
myimportTxt(datadir,"M1060630-118.csv"),
myimportTxt(datadir,"M1060702-055.csv"),
myimportTxt(datadir,"M1060716-086.csv"),
myimportTxt(datadir,"M1060808-110.csv"),
myimportTxt(datadir,"M1060908-027.csv"),
myimportTxt(datadir,"M1061023-229.csv"),
myimportTxt(datadir,"M1061102-062.csv"),
myimportTxt(datadir,"M1060108-042.csv"),
myimportTxt(datadir,"M1060221-218.csv"),
myimportTxt(datadir,"B1050328-154.csv"),
myimportTxt(datadir,"B1050723-021.csv"),
myimportTxt(datadir,"B1050902-121.csv"),
myimportTxt(datadir,"B1060202-094.csv"),
myimportTxt(datadir,"B1060429-067.csv"),
myimportTxt(datadir,"B1060522-013.csv"),
myimportTxt(datadir,"B1060606-077.csv"),
myimportTxt(datadir,"B1061002-071.csv"),
myimportTxt(datadir,"M1050108-162.csv"),
myimportTxt(datadir,"M1050123-092.csv"),
myimportTxt(datadir,"M1050128-177.csv"),
myimportTxt(datadir,"M1050420-111.csv"),
myimportTxt(datadir,"M1050824-079.csv"),
myimportTxt(datadir,"M1051122-089.csv"),
myimportTxt(datadir,"M1060112-033.csv"),
myimportTxt(datadir,"M1060118-031.csv"),
myimportTxt(datadir,"M1060214-012.csv"),
myimportTxt(datadir,"M1060414-167.csv"),
myimportTxt(datadir,"M1060417-042.csv"),
myimportTxt(datadir,"M1060421-139.csv"),
myimportTxt(datadir,"M1060423-047.csv"),
myimportTxt(datadir,"M1060428-026.csv"),
myimportTxt(datadir,"M1060810-148.csv"),
myimportTxt(datadir,"M1060912-032.csv"),
myimportTxt(datadir,"M1060927-053.csv"),
myimportTxt(datadir,"M1061020-182.csv"),
myimportTxt(datadir,"M1061027-207.csv"),
myimportTxt(datadir,"B1060704-084.csv"),
myimportTxt(datadir,"M1051223-071.csv"),
myimportTxt(datadir,"M1060108-060.csv"),
myimportTxt(datadir,"M1060202-212.csv"),
myimportTxt(datadir,"M1060207-151.csv"),
myimportTxt(datadir,"M1060913-154.csv")
)
peaks
binnedPeaks <- binPeaks(peaks, tolerance=0.002)
binnedPeaks
intensitymatrix<-intensityMatrix(binnedPeaks)
output<-data.frame(x=attr(intensitymatrix,'mass'), y=t(intensitymatrix))
output
lengths(output)
write.csv(output, paste(datadir,"20180625_non-CRE_50_CRE_53_Intensity.csv",sep=""),
row.names=FALSE)
